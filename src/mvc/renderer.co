{Config,async} = require "../main"
path = require \path
exists = (p,cb)->
	path.exists p,(e)->cb null,e

exports.Renderer = async function Renderer file
	for ext,eng in Config.engines
		filename = path.join Config.templatePath,"#file.#ext"
		if exists.sync null, filename
			return eng.compile.sync eng, filename